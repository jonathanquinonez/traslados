"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),verticalDefaultWidth="240px",verticalIconizedWidth="50px",Forge=function(){function e(t,i){_classCallCheck(this,e),this.config={navType:t,navOpt:i},this.header=$("header"),this.main=$("main"),this.topNav=this.header.find("div.navbar-fixed"),this.leftNavTop=this.topNav.find("ul.topnav-Menu-ls"),this.appSearchBtn=this.topNav.find("a.app-search-btn"),this.appSearchBar=this.topNav.find("form#app-search"),this.appSearchClose=this.appSearchBar.find("i.app-search-Cls"),this.verticalNavs=this.header.find("div.vertical-navigations"),this.verticalDefaultNav=this.verticalNavs.find("ul#nav-default"),this.activeNavigationHeader=$(document).find("ul.side-nav li.active"),this.verticalBars=this.header.find("div.other-verticalSections"),this.notificationSection=this.verticalBars.find("div#sb-notification"),this.themeSettingSection=this.verticalBars.find("div#themeOptions"),this.horizontalNavs=this.header.find("div.horizontal-navigations"),this.horizontalNavSelector=this.horizontalNavs.find("div.nav-wrapper ul"),this.toggleThemesetting=this.themeSettingSection.find("a.toggleThemesetting"),this.rightNotificationBtn=this.topNav.find("a.notification-toggle-open"),this.navHiddenMenuToggle=this.topNav.find("a.toggle-topnav-hidden-menu"),this.navHiddenMenu=this.topNav.find(".topnav-hidden-menu"),this.defaultCollapse=this.topNav.find("a#sidebar-default-collapse"),this.iconizedCollapse=this.topNav.find("a#sidebar-iconized-collapse"),this.iconizedToggle=this.topNav.find("a.iconizedToggle"),this.navLogo=this.topNav.find("a.defaultMenu-logo")}return _createClass(e,[{key:"init",value:function(){var e=this;this.settings(),$(window).on("resize",function(){return e.windowResize()}),$(".full-top-nav .dropdown-button").on("click",function(){return e.themeSettingSection.addClass("inactive").removeClass("active"),e.rightNotificationBtn.addClass("menu").removeClass("rightArrow"),e.notificationSection.removeClass("open-right-panel"),!1}),this.appSearchBtn.on("click",function(){return e.openSearch(),!1}),this.appSearchClose.on("click",function(){return e.closeSearch(),!1}),this.toggleThemesetting.on("click",function(){return e.toggleSettings(),!1}),this.rightNotificationBtn.on("click",function(t){return e.toggleRightNotification(t),!1}),this.verticalNavs.find(".collapsible-header").on("click",function(t){e.verticlNavHeader(t)}),this.verticalNavs.find(".collapsible-header").on("mouseenter",function(t){e.verticalIconizedNavHead(t)}),$(document).on("mouseleave","#outter-sidebar",function(t){return e.resetOutter(),!1}),$(document).on("click","#outter-sidebar .collapsible-header",function(t){e.asideMenuCollapseHandler(t)}),this.topNav.find("a.mob-menu").on("click",function(t){return e.topNavMobHandler(t),!1}),this.horizontalNavSelector.find("a.open_hor_sub").on("mouseenter",function(t){return e.openhorizontalNavSubEnter(t)}).on("mouseleave",function(t){return e.openhorizontalNavSubLeave(t)}),this.horizontalNavSelector.find("div.hor_sub").on("mouseenter",function(e){$(e.currentTarget).show().removeClass("hide")}).on("mouseleave",function(e){$(e.currentTarget).hide().addClass("hide")}),this.iconizedToggle.on("click",function(t){e.iconizedToggleHandler(t)}),this.themeSettingSection.find("input:radio").on("click",function(t){e.updateSetting(t)}),this.navHiddenMenuToggle.on("click",function(t){e.navHiddenMenuCallback(t)})}},{key:"settings",value:function(){this.config;1==localStorage.sess?this.loadStoredSetting():this.loadUserConfig()}},{key:"loadUserConfig",value:function(){localStorage.removeItem("sess"),localStorage.navType=this.config.navType,localStorage.navOpt=this.config.navOpt,this.navSetter({navType:this.config.navType,navOpt:this.config.navOpt})}},{key:"loadStoredSetting",value:function(){this.navSetter({navType:localStorage.navType,navOpt:localStorage.navOpt})}},{key:"openSearch",value:function(e){!1===this.appSearchBar.hasClass("active")&&!1===this.appSearchBar.hasClass("inactive")?this.appSearchBar.addClass("active"):(this.appSearchBar.toggleClass("active inactive"),this.appSearchBar.find("input").val(""))}},{key:"closeSearch",value:function(){this.appSearchBar.toggleClass("active inactive"),this.appSearchBar.find("input").val("")}},{key:"toggleSettings",value:function(){var e=this.themeSettingSection;!1===e.hasClass("active")&&!1===e.hasClass("inactive")?e.addClass("active"):e.toggleClass("active inactive")}},{key:"iconizedToggleHandler",value:function(e){"iconized"==localStorage.navOpt?this.navSetter({navOpt:"default"}):this.navSetter({navOpt:"iconized"})}},{key:"toggleRightNotification",value:function(e){$(e.currentTarget).toggleClass("menu rightArrow"),this.notificationSection.toggleClass("open-right-panel"),this.themeSettingSection.addClass("inactive").removeClass("active")}},{key:"verticlNavHeader",value:function(e){var t=$(e.currentTarget),i=t.position(),a=t.prop("scrollHeight");if(t.parents().eq(2).hasClass("icon-menu")){e.preventDefault();var n=t.next(".collapsible-body").html();return this.iconMenuFullAside(t,n,i,a),!1}t.hasClass("active")?t.children("i.mdi-navigation-chevron-left").addClass("close-aside").removeClass("open-aside"):t.children("i.mdi-navigation-chevron-left").addClass("open-aside").removeClass("close-aside"),t.closest("li").siblings("li").children("a.collapsible-header").children("i.mdi-navigation-chevron-left").addClass("close-aside").removeClass("open-aside")}},{key:"asideMenuCollapseHandler",value:function(e){var t=$(e.currentTarget);t.hasClass("active")?t.children("i.mdi-navigation-chevron-left").addClass("open-aside").removeClass("close-aside"):t.children("i.mdi-navigation-chevron-left").addClass("close-aside").removeClass("open-aside")}},{key:"resetIconizeWidth",value:function(e){}},{key:"resetOutter",value:function(){$("#outter-sidebar").remove()}},{key:"iconMenuFullAside",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.resetOutter();var a=i.top,n=this.sideHtmlBuilder(e,t,a);this.verticalNavs.append(n);var o=$("#outter-sidebar").children(".aside-content").children("ul");o.length&&o.addClass("sidescollable"),$("#outter-sidebar .collapsible").collapsible();var s=document.getElementById("outter-sidebar").getElementsByClassName("sidescollable");s.length&&Ps.initialize(s[0])}},{key:"sideHtmlBuilder",value:function(e,t,i){var a=e.attr("href"),n=["#","!#","#!","javascript:void(0)"],o=e.children("span").text();return t.length<=0&&-1==$.inArray(a,n)?'\n\t\t\t\t<div class="aside-menu" id="outter-sidebar" style="top:'+(i+64)+'px">\n\t\t\t\t\t<a class="aside-headertext" href="'+a+'">'+o+"</a>\n\t\t\t\t</div>\n\t\t\t":'\n\t\t\t\t<div class="aside-menu" id="outter-sidebar" style="top:'+(i+62)+'px">\n\t\t\t\t\t<span class="aside-headertext">'+o+"</span>\n\t\t\t\t\t<div class='aside-content'>\n\t\t\t\t\t\t"+t+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}},{key:"verticalIconizedNavHead",value:function(e){this.verticalNavs.hasClass("icon-menu")&&this.verticlNavHeader(e)}},{key:"clickOnIconizedHead",value:function(e){var t=$(e.currentTarget);thisBody=t.siblings(".iconized-collapsible-body"),thisBody.length&&thisBody.hasClass("iconized-body-enter")&&thisBody.focus()}},{key:"verticalIconizedBody",value:function(e){$(e.currentTarget).addClass("iconized-body-leave").removeClass("iconized-body-enter"),this.resetIconizeWidth(50)}},{key:"verticalIconizeMouserEnter",value:function(e){var t=$(e.currentTarget),i=t.children("a"),a=t.children(".iconized-collapsible-body");t.hasClass("menu-item")&&0==i.hasClass("iconized-collapsible-head")&&this.resetIconizeWidth(50),a.addClass("iconized-body-enter").removeClass("iconized-body-leave")}},{key:"verticalIconizeMouserLeave",value:function(e){var t=$(e.currentTarget),i=(t.children("a"),t.children(".iconized-collapsible-body"));i.hasClass(":hover")||(i.addClass("iconized-body-leave").removeClass("iconized-body-enter"),t.hasClass("menu-item")&&this.resetIconizeWidth(50))}},{key:"topNavMobHandler",value:function(e){$(e.currentTarget).attr("data-activates")}},{key:"openhorizontalNavSubEnter",value:function(e){$(e.currentTarget).next("div.hor_sub").show().removeClass("hide")}},{key:"openhorizontalNavSubLeave",value:function(e){$(e.currentTarget).next("div.hor_sub").hide()}},{key:"navSetter",value:function(e){this.iconizedToggle.closest("ul.topnav-Menu-ls");var t=void 0===e.navType?localStorage.navType:e.navType,i=void 0===e.navOpt?localStorage.navOpt:e.navOpt;this.themeSettingSection.find("input[type=radio]").prop("checked",!1),this.subOptions(t,i),this.menuSwitch(t,i)}},{key:"updateSetting",value:function(e){var t=$(e.currentTarget),i=t.attr("data-identfier"),a=t.attr("data-type");switch(localStorage.sess=1,i){case"theme_nav":this.navSetter({navType:a});break;case"theme_nav_opts":this.navSetter({navOpt:a})}return!1}},{key:"subOptions",value:function(e,t){this.themeSettingSection.find('[data-type="'+t+'"]').prop("checked",!0),"vertical"==e&&"default"==t?(localStorage.navOpt="default",this.defaultCollapse.show().siblings("a.button-collapse").hide(),this.verticalNavs.removeClass("icon-menu"),this.resetOutter(),this.verticalNavs.find("ul.side-nav  > li.active").children(".collapsible-body").show(),this.main.addClass("transition-main-enter").removeClass("transition-main-horizontalAct transition-main-enter2"),this.navLogo.children("span").addClass("zoomIn").removeClass("zoomOut").css({opacity:1}).end().removeClass("iconizedMenu-act").end(),this.navLogo.children(".logo-icon").removeClass("iconized"),this.leftNavTop.addClass("move-right").removeClass("move-left"),this.iconizedToggle.addClass("leftArrow").removeClass("rightArrow")):"vertical"==e&&"iconized"==t&&(localStorage.navOpt="iconized",this.navLogo.children(".logo-icon").addClass("iconized"),this.verticalNavs.addClass("icon-menu"),this.verticalNavs.children("ul.side-nav").find("li a.collapsible-header").next(".collapsible-body").hide(),this.main.addClass("transition-main-enter2").removeClass("transition-main-horizontalAct transition-main-enter"),this.navLogo.children("span").addClass("zoomOut").removeClass("zoomIn").css({opacity:0}).end().addClass("iconizedMenu-act"),this.navLogo.children("img").css({"padding-left":"0px"}),this.leftNavTop.addClass("move-left").removeClass("move-right"),this.iconizedToggle.addClass("rightArrow").removeClass("leftArrow")),"horizontal"==e&&"default"==t?(localStorage.navOpt="default",this.defaultCollapse.show().siblings("a.button-collapse").hide(),this.horizontalNavSelector.addClass("default").removeClass("iconized")):"horizontal"==e&&"iconized"==t&&(localStorage.navOpt="iconized",this.iconizedCollapse.show().siblings("a.button-collapse").hide(),this.horizontalNavSelector.addClass("iconized").removeClass("default"))}},{key:"menuSwitch",value:function(e,t){this.themeSettingSection.find('[data-type="'+e+'"]').prop("checked",!0);var i=this.themeSettingSection.find("img.vert-set-svg"),a=this.themeSettingSection.find("img.horz-set-svg");switch(e){case"horizontal":localStorage.navType=e,a.show(),i.hide(),this.main.addClass("transition-main-horizontalAct").removeClass("transition-main-enter transition-main-enter2"),this.horizontalNavs.addClass("show").removeClass("hide"),this.verticalNavs.addClass("hide hide-on-large-only").removeClass("show"),this.iconizedToggle.addClass("hide-on-large-only"),this.navLogo.children("span").addClass("zoomIn").removeClass("zoomOut").css({opacity:1}).end().removeClass("iconizedMenu-act").end(),this.navLogo.children("img").css({"padding-left":"30px"}),this.leftNavTop.addClass("move-right").removeClass("move-left");break;default:localStorage.navType=e,i.show(),a.hide(),this.horizontalNavs.addClass("hide").removeClass("show"),this.verticalNavs.addClass("show").removeClass("hide hide-on-large-only"),this.iconizedToggle.removeClass("hide-on-large-only")}}},{key:"navHiddenMenuCallback",value:function(e){$(e.currentTarget);return this.navHiddenMenu.hasClass("hide")?(this.navHiddenMenu.removeClass("hide").addClass("show"),!1):(this.navHiddenMenu.addClass("hide").removeClass("show"),!1)}},{key:"windowResize",value:function(){var e=$(window).width();e<992&&"horizontal"==localStorage.navType?(localStorage.tempNav=1,this.navSetter({navType:"vertical"})):e>992&&1==localStorage.tempNav&&(localStorage.tempNav=0,this.navSetter({navType:"horizontal"}))}}]),e}();